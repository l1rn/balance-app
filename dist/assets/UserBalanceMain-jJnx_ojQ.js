import{_ as e,a as t,c as n,d as r,f as i,g as a,h as o,l as s,m as c,n as l,o as u,p as d,r as f,s as p,u as m,v as h,y as g}from"./index-BH21j0FO.js";var _={class:`main-wrapper`},v={class:`main-container`},y={class:`info-container`},b={class:`id`},x={class:`username`},S={class:`role`},C={class:`action-container`},w={class:`button-group`},T={key:0,class:`amount-container`},E={class:`balance-container`},D={class:`text`},O={key:0,class:`table-container`},k={class:`time-cell`},A={class:`date`},j=f({__name:`UserBalanceMain`,setup(f){let j=e(``),M=e(``),N=e=>{j.value===e?j.value=``:j.value=e},P=l(),F=e({id:``,username:``,role:``,balance:``,transactions:[]}),I=async()=>{try{F.value=(await t.get(`/admin/users/${P.params.id}`)).data}catch(e){console.error(e)}},L=async()=>{try{await t.post(`/admin/top-up`,{user_id:F.value.id,amount:Number(M.value)})}catch(e){console.error(e)}},R=async()=>{try{await t.post(`/admin/withdraw`,{user_id:F.value.id,amount:Number(M.value)})}catch(e){console.error(e)}},z=async()=>{if(M.value<=0)return alert(`Enter a valid number`);j.value===`plus`?await L():j.value===`minus`&&await R(),M.value=0,j.value=``,await I()};return i(async()=>{await I()}),o(()=>P.params.id,()=>{I()}),(e,t)=>(d(),m(`div`,_,[n(`div`,v,[n(`div`,y,[n(`div`,b,` ID: `+g(F.value.id),1),n(`div`,x,` User: `+g(F.value.username),1),n(`div`,S,` Role: `+g(F.value.role),1),n(`div`,C,[n(`div`,w,[n(`button`,{onClick:t[0]||=e=>N(`plus`),class:h({active:j.value===`plus`})},` plus `,2),n(`button`,{onClick:t[1]||=e=>N(`minus`),class:h({active:j.value===`minus`})},` minus `,2),t[3]||=n(`button`,null,`edit`,-1)]),j.value?(d(),m(`div`,T,[a(n(`input`,{type:`text`,"onUpdate:modelValue":t[2]||=e=>M.value=e},null,512),[[u,M.value]]),n(`button`,{onClick:z,class:`confirm-btn`},g(j.value===`plus`?`Add Funds`:`Withdraw`),1)])):s(``,!0)])]),n(`div`,E,[n(`div`,D,g(F.value.balance)+` â‚¹ `,1)])]),F.value.transactions?(d(),m(`div`,O,[n(`table`,null,[t[4]||=n(`tr`,null,[n(`td`,null,`Username`),n(`td`,null,`Amount`),n(`td`,null,`Type`),n(`td`,null,`Created At`)],-1),(d(!0),m(p,null,c(F.value.transactions,e=>(d(),m(`tr`,null,[n(`td`,null,g(e.username),1),n(`td`,null,g(e.amount),1),n(`td`,null,g(e.type),1),n(`td`,k,[r(g(e.created_at.split(`T`)[1].split(`.`)[0])+` `,1),n(`div`,A,g(e.created_at.split(`T`)[0]),1)])]))),256))])])):s(``,!0)]))}},[[`__scopeId`,`data-v-2a34483c`]]);export{j as default};